{"version":3,"file":null,"sources":["../lib/ghostworker-devtools.js"],"sourcesContent":["document.addEventListener(\"DOMContentLoaded\", function(event) {\n\n    if(this.GhostWorker){\n        document.querySelector('#gw-version').innerHTML = this.GhostWorker.version;\n    }\n\n\n    var cachesSection = document.querySelector('#caches');\n    var ul = buildLister( 'caches', cachesSection )\n    caches.keys().then(function(keyList) {\n        keyList.map(function(key) {\n            if (key.indexOf('ghostworker-') === 0) {\n                //return caches.delete(keyList[i]);\n                var li = document.createElement('li');\n                li.appendChild(document.createTextNode(key));\n                ul.appendChild(li);\n\n                listCacheLinks( key );\n            }\n        });\n    })\n\n    var btnRemoveCaches = document.querySelector('#remove-caches');\n    btnRemoveCaches.addEventListener('click',function(){\n        deleteCaches();\n        cachesSection.innerHTML = '';\n    });\n});\n\n\nfunction deleteCaches(){\n    caches.keys().then(function(keyList) {\n        keyList.map(function(key) {\n            if (key.indexOf('ghostworker-') === 0) {\n                caches.delete(key);\n            }\n        });\n\n    })\n}\n\n\nfunction listCacheLinks( cacheName ){\n    var cachesSection = document.querySelector('#caches');\n    var ul = buildLister( cacheName, cachesSection )\n\n    caches.open(cacheName).then(function(cache) {\n        cache.keys().then(function(keys) {\n            keys.forEach(function(request, index, array) {\n                var li = document.createElement('li');\n                var a = document.createElement('a');\n                a.appendChild(document.createTextNode(request.url));\n                a.href = request.url;\n                li.appendChild(a);\n                ul.appendChild(li);\n            })\n        });\n    })\n}\n\n\n\nfunction buildLister( title, parent ){\n    var section = document.createElement('section');\n    section.id = title;\n    var h2 = document.createElement('h2');\n    var ul = document.createElement('ul');\n    section.appendChild(h2);\n    section.appendChild(ul);\n    h2.appendChild(document.createTextNode(title));\n    parent.appendChild(section);\n    return ul;\n}"],"names":["document","addEventListener","event","GhostWorker","querySelector","innerHTML","version","cachesSection","ul","buildLister","keys","then","keyList","map","key","indexOf","li","createElement","appendChild","createTextNode","btnRemoveCaches","deleteCaches","delete","listCacheLinks","cacheName","open","cache","forEach","request","index","array","a","url","href","title","parent","section","id","h2"],"mappings":";;;;;;AAAAA,SAASC,gBAAT,CAA0B,kBAA1B,EAA8C,UAASC,KAAT,EAAgB;;QAEvD,KAAKC,WAAR,EAAoB;iBACPC,aAAT,CAAuB,aAAvB,EAAsCC,SAAtC,GAAkD,KAAKF,WAAL,CAAiBG,OAAnE;;;QAIAC,gBAAgBP,SAASI,aAAT,CAAuB,SAAvB,CAApB;QACII,KAAKC,YAAa,QAAb,EAAuBF,aAAvB,CAAT;WACOG,IAAP,GAAcC,IAAd,CAAmB,UAASC,OAAT,EAAkB;gBACzBC,GAAR,CAAY,UAASC,GAAT,EAAc;gBAClBA,IAAIC,OAAJ,CAAY,cAAZ,MAAgC,CAApC,EAAuC;;oBAE/BC,KAAKhB,SAASiB,aAAT,CAAuB,IAAvB,CAAT;mBACGC,WAAH,CAAelB,SAASmB,cAAT,CAAwBL,GAAxB,CAAf;mBACGI,WAAH,CAAeF,EAAf;;+BAEgBF,GAAhB;;SAPR;KADJ;;QAaIM,kBAAkBpB,SAASI,aAAT,CAAuB,gBAAvB,CAAtB;oBACgBH,gBAAhB,CAAiC,OAAjC,EAAyC,YAAU;;sBAEjCI,SAAd,GAA0B,EAA1B;KAFJ;CAvBJ;;AA8BA,SAASgB,YAAT,GAAuB;WACZX,IAAP,GAAcC,IAAd,CAAmB,UAASC,OAAT,EAAkB;gBACzBC,GAAR,CAAY,UAASC,GAAT,EAAc;gBAClBA,IAAIC,OAAJ,CAAY,cAAZ,MAAgC,CAApC,EAAuC;uBAC5BO,MAAP,CAAcR,GAAd;;SAFR;KADJ;;;AAWJ,SAASS,cAAT,CAAyBC,SAAzB,EAAoC;QAC5BjB,gBAAgBP,SAASI,aAAT,CAAuB,SAAvB,CAApB;QACII,KAAKC,YAAae,SAAb,EAAwBjB,aAAxB,CAAT;;WAEOkB,IAAP,CAAYD,SAAZ,EAAuBb,IAAvB,CAA4B,UAASe,KAAT,EAAgB;cAClChB,IAAN,GAAaC,IAAb,CAAkB,UAASD,IAAT,EAAe;iBACxBiB,OAAL,CAAa,UAASC,OAAT,EAAkBC,KAAlB,EAAyBC,KAAzB,EAAgC;oBACrCd,KAAKhB,SAASiB,aAAT,CAAuB,IAAvB,CAAT;oBACIc,IAAI/B,SAASiB,aAAT,CAAuB,GAAvB,CAAR;kBACEC,WAAF,CAAclB,SAASmB,cAAT,CAAwBS,QAAQI,GAAhC,CAAd;kBACEC,IAAF,GAASL,QAAQI,GAAjB;mBACGd,WAAH,CAAea,CAAf;mBACGb,WAAH,CAAeF,EAAf;aANJ;SADJ;KADJ;;;AAgBJ,SAASP,WAAT,CAAsByB,KAAtB,EAA6BC,MAA7B,EAAqC;QAC7BC,UAAUpC,SAASiB,aAAT,CAAuB,SAAvB,CAAd;YACQoB,EAAR,GAAaH,KAAb;QACII,KAAKtC,SAASiB,aAAT,CAAuB,IAAvB,CAAT;QACIT,KAAKR,SAASiB,aAAT,CAAuB,IAAvB,CAAT;YACQC,WAAR,CAAoBoB,EAApB;YACQpB,WAAR,CAAoBV,EAApB;OACGU,WAAH,CAAelB,SAASmB,cAAT,CAAwBe,KAAxB,CAAf;WACOhB,WAAP,CAAmBkB,OAAnB;WACO5B,EAAP;;;"}